<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="refresh" content="5" />
    <title>Users Online</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
      crossorigin="anonymous"
    />
  </head>
  <body>
    {% if signed_in_users %}
    <h4>Users Signed In:</h4>
    <ul class="list-inline">
      {% for user in signed_in_users %}
      <li
        class="list-inline-item"
        data-bs-toggle="popover"
        data-bs-content="Last active {{ user.last_activity }}"
      >
        {{ user.username }}
      </li>
      {% endfor %}
    </ul>
    {% endif %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
      [].slice
          .call(document.querySelectorAll('[data-bs-toggle="popover"]'))
          .forEach(function (popoverTriggerEl) {
              new bootstrap.Popover(popoverTriggerEl);
          });
    </script>
  </body>
</html>
